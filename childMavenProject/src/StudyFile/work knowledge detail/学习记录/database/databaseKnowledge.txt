myisam：全文索引，不支持事务，表级别锁。
innoDb5.几版本也支持了。行级锁

sum = 50
update test set sum = sum-1 where sum -1>0

不是刷新删除的是程序还在继续跑，但是提前提示成功了。
之后就删除了。


策略，责任链，建造者，监听者，观察者模式。
